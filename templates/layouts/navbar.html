{% load static %}

    <!-- Barra de Navegación Formal -->
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-6 py-4 flex items-center justify-between">
            <!-- Título o Logo del Sistema -->
            <div class="text-2xl font-bold text-blue-900">
                <a href="{% url 'core:index' %}" class="flex items-center space-x-2">
                    <!-- Icono de un estetoscopio -->
                    <img src="{% static 'img/logo.jpg' %}" alt="ARQA Logo" class="h-12 w-auto mb-4">
                    <span>Sistema Médico</span>
                </a>
            </div>
            
            <!-- Enlaces de Navegación -->
            <div class="flex items-center space-x-4">
                <!-- Enlaces siempre visibles -->
                <a href="{% url 'core:index' %}" onclick="showView('inicio-view')" id="nav-inicio" class="text-blue-900 hover:text-blue-600 font-semibold transition-colors duration-300">Inicio</a>
                
                {% if user.is_authenticated %}
                    <!-- Enlaces solo para usuarios autenticados -->
                    {% if user.profesional or user.is_superuser %}
                        <a href="{% url 'chat:chat_view' %}" onclick="showView('chat-view')" id="nav-chat" class="text-blue-900 hover:text-blue-600 font-semibold transition-colors duration-300">Chat IA</a>
                    {% endif %}
                    {% if user.paciente %}
                        <a href="#" onclick="showView('turnos-view')" id="nav-turnos" class="text-blue-900 hover:text-blue-600 font-semibold transition-colors duration-300">Mis Turnos</a>
                        <a href="#" onclick="showView('historial-view')" id="nav-historial" class="text-blue-900 hover:text-blue-600 font-semibold transition-colors duration-300">Mi Historial Médico</a>
                    {% endif %}
                    {% if user.is_superuser %}
                        <a href="{% url 'blockchain:blockchain_dashboard' %}" onclick="showView('blockchain-view')" id="nav-blockchain" class="text-blue-900 hover:text-blue-600 font-semibold transition-colors duration-300">Blockchain</a>
                        <a href="{% url 'admin:index' %}" onclick="showView('admin-view')" id="nav-admin" class="text-blue-900 hover:text-blue-600 font-semibold transition-colors duration-300">Panel de administrador</a>
                    {% endif %}
                    
                    <!-- Saludo al usuario y botón de cerrar sesión -->
                    <span class="text-blue-900 font-medium">Hola, {{ user.first_name|default:user.username }}</span>
                    <a href="{% url 'logout' %}" class="text-red-600 hover:text-red-800 font-semibold transition-colors duration-300">
                        Cerrar Sesión
                    </a>
                {% else %}
                    <!-- Enlaces para usuarios no autenticados -->
                    <a href="{% url 'login' %}" class="text-blue-900 hover:text-blue-600 font-semibold transition-colors duration-300">Iniciar Sesión</a>
                    <div class="relative group">
                        <button class="text-blue-900 hover:text-blue-600 font-semibold transition-colors duration-300">
                            Registrarse
                        </button>
                        <!-- Menú desplegable para registro -->
                        <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
                            <a href="{% url 'blockchain:registro_paciente' %}" class="block px-4 py-2 text-blue-900 hover:bg-blue-50 transition-colors duration-300">
                                Como Paciente
                            </a>
                            <a href="{% url 'blockchain:registro_profesional' %}" class="block px-4 py-2 text-blue-900 hover:bg-blue-50 transition-colors duration-300">
                                Como Profesional
                            </a>
                        </div>
                    </div>
                {% endif %}
            </div>
        </nav>
    </header>
